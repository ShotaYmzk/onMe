# TravelSettle

**旅行・友人グループでの立替・割り勘・貸し借り管理アプリ**

TravelSettleは、旅行や友人グループで発生する支出の立替・割り勘・貸し借りを簡単に管理し、「誰が誰にいくら返せば良いか」を自動で計算するiOSアプリです。

## 🚀 主な機能

### 📱 コア機能
- **グループ管理**: 旅行やイベントごとにグループを作成
- **支出記録**: 詳細な支出情報の登録（カテゴリ、参加者、支払者）
- **レシートOCR**: カメラで撮影したレシートから金額を自動抽出
- **自動清算計算**: 最適な返済ルートを自動提案
- **多通貨対応**: 10種類以上の通貨をサポート

### 🎨 ユーザーエクスペリエンス
- **モダンUI**: SwiftUIベースの直感的なインターフェース
- **ダークモード**: システム設定に連動した外観切り替え
- **アクセシビリティ**: VoiceOverなどの支援技術に完全対応
- **国際化**: 日本語・英語対応

### 🔒 セキュリティ・プライバシー
- **ローカルストレージ**: すべてのデータはデバイス内に保存
- **データ暗号化**: AES-256による強力な暗号化
- **生体認証**: Face ID/Touch IDによるアプリロック（オプション）
- **プライバシー重視**: 個人情報の最小限収集

## 🏗 技術仕様

### アーキテクチャ
- **設計パターン**: MVVM + Clean Architecture
- **UI フレームワーク**: SwiftUI
- **データ永続化**: Core Data
- **言語**: Swift 5.9+
- **最小対応OS**: iOS 17.0+

### 主要ライブラリ・フレームワーク
- **Vision**: レシートOCR処理
- **CryptoKit**: データ暗号化
- **LocalAuthentication**: 生体認証
- **Combine**: リアクティブプログラミング
- **PhotosUI**: 画像選択

## 📁 プロジェクト構造

```
onMe/
├── Core/
│   ├── Data/              # Core Data関連
│   └── State/             # アプリ状態管理
├── Domain/
│   ├── Entities/          # ビジネスエンティティ
│   └── UseCases/          # ビジネスロジック
├── Infrastructure/
│   ├── OCR/               # OCR処理
│   ├── Performance/       # パフォーマンス監視
│   └── Security/          # セキュリティ機能
├── Presentation/
│   ├── Views/             # SwiftUI画面
│   └── ViewModels/        # ViewModel
└── Resources/
    └── Localizable.strings # 国際化リソース
```

## 🎯 主要画面

### 1. グループ一覧画面
- 作成したグループの一覧表示
- 各グループの支出合計と予算進捗
- 新規グループ作成

### 2. 支出登録画面
- 支出詳細の入力（金額、カテゴリ、説明）
- 参加者と支払者の選択
- レシートOCRによる自動入力
- 均等割りまたは個別負担額設定

### 3. 清算画面
- メンバーごとの残高表示
- 最適な返済提案の自動生成
- 返済履歴の管理
- 清算完了の記録

### 4. 設定画面
- デフォルト通貨設定
- ダークモード切り替え
- 通知設定
- データエクスポート

## 🧮 清算アルゴリズム

TravelSettleは独自の清算アルゴリズムを使用して、グループ内での最小限の取引回数で全員の債務を清算する最適なルートを提案します。

### アルゴリズムの特徴
1. **最小取引回数**: 可能な限り少ない回数の返済で清算
2. **公平性**: 各メンバーの実際の負担額に基づいた正確な計算
3. **効率性**: 大規模グループでも高速計算

### 計算例
```
メンバーA: +2000円（受け取る）
メンバーB: -1000円（支払う）
メンバーC: -1000円（支払う）

提案される清算:
B → A: 1000円
C → A: 1000円
```

## 🔧 開発・ビルド

### 必要環境
- Xcode 15.0+
- iOS 17.0+ Simulator/Device
- Swift 5.9+

### ビルド手順
1. プロジェクトをクローン
```bash
git clone [repository-url]
cd onMe
```

2. Xcodeでプロジェクトを開く
```bash
open onMe.xcodeproj
```

3. ビルド・実行
- シミュレーターまたは実機を選択
- ⌘+R でビルド・実行

### テスト実行
```bash
# ユニットテスト
⌘+U

# UIテスト
Product > Test (または ⌘+U でテストナビゲーターから選択)
```

## 📊 パフォーマンス

### 最適化項目
- **起動時間**: 1秒以下
- **メモリ使用量**: 100MB以下（通常使用時）
- **画像キャッシュ**: 効率的なメモリ・ディスクキャッシュ
- **データベース**: Core Dataの最適化クエリ

### 監視機能
- リアルタイムパフォーマンス監視
- メモリ使用量アラート
- 処理時間の計測・ログ出力

## 🛡 セキュリティ

### データ保護
- **暗号化**: AES-256-GCMによるデータ暗号化
- **キーチェーン**: 暗号化キーの安全な保存
- **生体認証**: Face ID/Touch IDによるアクセス制御

### プライバシー
- **ローカル処理**: すべてのデータ処理をデバイス内で完結
- **最小限収集**: 機能に必要最小限の情報のみ使用
- **透明性**: データ使用目的の明確な説明

## 🌍 国際化

### 対応言語
- 日本語（デフォルト）
- 英語

### 対応通貨
- JPY (日本円)
- USD (米ドル)
- EUR (ユーロ)
- GBP (英ポンド)
- KRW (韓国ウォン)
- CNY (中国元)
- THB (タイバーツ)
- その他

## ♿ アクセシビリティ

### 対応機能
- **VoiceOver**: 全画面でのスクリーンリーダー対応
- **ダイナミックタイプ**: システムフォントサイズに連動
- **ハイコントラスト**: 色覚に配慮したカラーパレット
- **音声制御**: 音声コマンドでの操作

## 📱 App Store 対応

### 準備済み項目
- App Store Review Guidelines準拠
- プライバシーラベル対応
- セキュリティ要件クリア
- パフォーマンス基準達成

## 🤝 貢献

このプロジェクトへの貢献を歓迎します。

### 貢献方法
1. Issueを作成して機能提案・バグ報告
2. Pull Requestでコード貢献
3. ドキュメントの改善

## 📄 ライセンス

このプロジェクトは[MIT License](LICENSE)の下で公開されています。

## 📞 サポート

- **バグ報告**: GitHub Issues
- **機能要望**: GitHub Issues
- **質問**: GitHub Discussions

---

**TravelSettle** - シンプルで安全な旅行支出管理
